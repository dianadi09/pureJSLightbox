function pureJSLightBox(e) {
    function t(e, t, n) {
        var a, r, i, l, s, o, d, c = e,
            u = 40,
            g = 400;
        c.addEventListener("touchstart", function(e) {
            var t = e.changedTouches[0];
            a = "none", dist = 0, r = t.pageX, i = t.pageY, d = (new Date).getTime()
        }, !1), c.addEventListener("touchend", function(e) {
            var c = e.changedTouches[0];
            l = c.pageX - r, s = c.pageY - i, o = (new Date).getTime() - d, g >= o && Math.abs(l) >= u ? (a = 0 > l ? "left" : "right", t(a)) : "function" == typeof n && n()
        }, !1)
    }

    function n() {
        !w.hasClass(u), v.hidden && (w.removeClass(u, v.hidden), w.addClass(document.getElementsByTagName("body")[0], v.noScroll))
    }

    function a() {
        var e = w.getCurrentItemInView();
        w.removeClass(e, v.currImgInView), w.addClass(e, v.hidden), w.addClass(u, v.hidden), w.removeClass(document.getElementsByTagName("body")[0], v.noScroll)
    }

    function r() {
        var e = document.createElement("div");
        if (e.setAttribute("class", v.overlay), f.hasOwnProperty("overlay") && f.overlay === !1 && w.addClass(e, v.transparent), u.appendChild(e), f.hasOwnProperty("swipe") && f.swipe === !1 || t(u, s, null), !f.hasOwnProperty("navigation") || f.navigation !== !1) {
            var n = document.createElement("div");
            n.setAttribute("class", v.navigationButton), n.setAttribute("id", v.leftArrow);
            var r = document.createElement("div");
            r.setAttribute("class", v.navigationButton), r.setAttribute("id", v.rightArrow), u.appendChild(n), u.appendChild(r), g = n, m = r, r.addEventListener("click", o.bind(null, "backward")), n.addEventListener("click", o.bind(null, "forward"))
        }
        var i = document.createElement("div");
        i.setAttribute("class", v.navigationButton), i.setAttribute("id", v.closeButton), u.appendChild(i), h = i, h.addEventListener("click", a)
    }

    function i(e) {
        var t = document.createElement("ul");
        t.setAttribute("class", v.galleryList), u.appendChild(t), c = t.getElementsByTagName("li");
        for (var n = 0; n < e.length; n++) {
            var a = document.createElement("li");
            a.setAttribute("class", v.galleryListItem), w.addClass(a, v.hidden), t.appendChild(a);
            var r = document.createElement("img");
            r.src = w.getIinitialListElementSrc(e[n]), r.setAttribute("data-index", n), a.appendChild(r), e[n].addEventListener("click", function(e) {
                e.preventDefault(), d(w.getIinitialListElementSrc(this))
            })
        }
    }

    function l() {
        var e = document.getElementsByClassName(v.selector);
        return (e = e && e[0] ? e[0].getElementsByTagName("li") : null) ? (u = document.createElement("div"), u.setAttribute("id", v.lightboxContainer), w.addClass(u, v.hidden), window.document.body.insertBefore(u, window.document.body.firstChild), r(), void i(e)) : (console.log("Pure js lightbox | Please provide a list of gallery elements"), !1)
    }

    function s(e) {
        e = "left" == e ? "forward" : "backward", o(e)
    }

    function o(e) {
        var t = w.getCurrentVisibleItemIndex();
        e === C.forward ? (t += 1, t === c.length && (t = 0)) : (t -= 1, 0 > t && (t = c.length - 1)), d(w.getGalleryElementSrcByIndex(t))
    }

    function d(e) {
        n();
        for (var t, a = 0; a < c.length; ++a) w.addClass(c[a], v.hidden), w.removeClass(c[a], v.currImgInView), c[a].firstChild.src === e && (t = c[a], w.removeClass(t, v.hidden), w.addClass(t, v.currImgInView))
    }
    var c, u, g, m, h, f = e ? e : {},
        v = {
            visible: "visible",
            transparent: "transparent",
            hidden: "hidden",
            noScroll: "no-scroll",
            galleryList: "gallery-list",
            galleryListItem: "gallery-list-item",
            selector: "pure-js-lightbox-container",
            lightboxContainer: "lightbox-main-container",
            currImgInView: "fadeIn",
            overlay: "overlay",
            navigationButton: "navigation-button",
            leftArrow: "left-arrow",
            rightArrow: "right-arrow",
            closeButton: "close-button"
        },
        C = {
            forward: "forward",
            backward: "backward"
        },
        w = {
            addClass: function(e, t) {
                this.hasClass(e, t) || (e instanceof Array || e instanceof NodeList || (e = [e]), [].forEach.call(e, function(e) {
                    e.className += " " + t
                }))
            },
            hasClass: function(e, t) {
                return void 0 != e && e.className && new RegExp("(^|\\s)" + t + "(\\s|$)").test(e.className)
            },
            removeClass: function(e, t) {
                if (this.hasClass(e, t)) {
                    var n = new RegExp(t, "g");
                    e instanceof Array || e instanceof NodeList || (e = [e]), [].forEach.call(e, function(e) {
                        e.className = e.className.replace(n, "")
                    })
                }
            },
            getIinitialListElementSrc: function(e) {
                return e = e.getElementsByTagName("a"), e && e[0] && e[0].href ? e[0].href : null
            },
            getGalleryElementSrc: function(e) {
                return e && e.children && e.children[0] && e.children[0].src ? e.children[0].src : null
            },
            getGalleryImgIndex: function(e) {
                return e.children && e.children[0] ? e.children[0].getAttribute("data-index") : null
            },
            getGalleryElementSrcByIndex: function(e) {
                return c[e] ? this.getGalleryElementSrc(c[e]) : null
            },
            getCurrentItemInView: function() {
                for (var e = 0; e < c.length; ++e)
                    if (w.hasClass(c[e], v.currImgInView)) return c[e]
            },
            getCurrentVisibleItemIndex: function() {
                for (var e = 0; e < c.length; ++e)
                    if (w.hasClass(c[e], v.currImgInView)) return e
            }
        };
    l()
}